{"version":3,"sources":["components/PeoplesPage/PeoplesPage.module.css","components/PeoplesPage/PeopleItem/PeopleItem.module.css","hoc/withAuthRedirect.tsx","assets/images/defaulIconProfile.png","components/PeoplesPage/PeopleItem/PeopleItem.tsx","components/PeoplesPage/PeoplesPage.tsx","components/PeoplesPage/PeoplesPageContainer.tsx"],"names":["module","exports","mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","WrappedComponent","connect","props","restProps","fake","to","PeopleItem","u","user","className","s","people_item","people_item_content","id","people_item_img_div","people_item_img","src","photos","small","userPhoto","alt","people_item_name","name","status","people_item_btn_div","followed","isFollowing","some","people_item_btn_disable","people_item_btn","onClick","e","unFollow","follow","PeoplesPage","currentPage","totalUserCount","pageSize","onPageChanged","friendsCollection","peoples_content","content_block_size","map","PeoplesPageContainer","pageNumber","getUsers","onFollow","userId","userFollow","onUnFollow","userUnFollow","render","isFetching","preloader","ldsCircle","this","React","Component","compose","friendsPage"],"mappings":"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","file":"static/js/4.1472e78a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"peoples_content\":\"PeoplesPage_peoples_content__1phPR\",\"content_block_size\":\"PeoplesPage_content_block_size__32SIx\",\"preloader\":\"PeoplesPage_preloader__2LHK-\",\"ldsCircle\":\"PeoplesPage_ldsCircle__RVsFW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content_block_size\":\"PeopleItem_content_block_size__1c8FN\",\"people_item\":\"PeopleItem_people_item__3aUsI\",\"people_item_content\":\"PeopleItem_people_item_content__1eeBj\",\"people_item_img_div\":\"PeopleItem_people_item_img_div__3HIML\",\"people_item_img\":\"PeopleItem_people_item_img__1EHJe\",\"people_item_right\":\"PeopleItem_people_item_right__26y5d\",\"people_item_name\":\"PeopleItem_people_item_name__1k0p_\",\"people_item_btn_div\":\"PeopleItem_people_item_btn_div__1v1SA\",\"people_item_btn\":\"PeopleItem_people_item_btn__2lwE0\",\"people_item_btn_disable\":\"PeopleItem_people_item_btn_disable__CrOGw\"};","import React from 'react';\r\nimport {Redirect} from 'react-router-dom';\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../redux/redux-store\";\r\n\r\n\r\nlet mapStateToPropsForRedirect = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\ntype MapPropsType = {\r\n    isAuth: boolean\r\n}\r\ntype DispatchPropsType = {\r\n    fake: () => void\r\n}\r\n\r\nfunction withAuthRedirect<WCP> (WrappedComponent: React.ComponentType<WCP>) {\r\n\r\n    const RedirectComponent: React.FC<MapPropsType & DispatchPropsType> = (props) => {\r\n\r\n        let {isAuth, fake, ...restProps} = props\r\n\r\n        if (!isAuth) return <Redirect to=\"/login\"/>\r\n\r\n        return <WrappedComponent {...restProps as WCP}/>\r\n    }\r\n\r\n\r\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n}\r\n\r\nexport default withAuthRedirect;","export default __webpack_public_path__ + \"static/media/defaulIconProfile.503ee88f.png\";","import React from 'react';\r\n// @ts-ignore\r\nimport s from \"./PeopleItem.module.css\";\r\nimport {NavLink} from \"react-router-dom\";\r\n// @ts-ignore\r\nimport userPhoto from \"../../../assets/images/defaulIconProfile.png\";\r\nimport {FriendsCollectionType} from \"../../../types/types\";\r\n\r\ntype PropsType = {\r\n    user: FriendsCollectionType,\r\n    isFollowing: Array<number>,\r\n    follow: (userId: number ) => void,\r\n    unFollow: (userId: number) => void\r\n}\r\n\r\nconst PeopleItem: React.FC<PropsType> = (props) => {\r\n    let u = props.user;\r\n    return (\r\n/*        <>\r\n            <div className={s.people_item}>\r\n                <div className={s.people_item_content}>\r\n                    <p className={s.people_item_img}/>\r\n                    {/!*<img className={s.people_item_img} src=\"\" alt=\"\"/>*!/}\r\n                    <span className={s.people_item_name}>Dinar Hasanshin</span>\r\n                    <button className={s.people_item_btn}>Follow</button>\r\n                </div>\r\n                <hr/>\r\n            </div>\r\n        </>*/\r\n        <div className={s.people_item}>\r\n            <div className={s.people_item_content}>\r\n                <NavLink to={\"/profile/\" + u.id}>\r\n                    <div className={s.people_item_img_div}>\r\n                        <p className={s.people_item_img}>\r\n                           <img src={u.photos.small != null ? u.photos.small : userPhoto} alt=\"\"/>\r\n                        </p>\r\n                    </div>\r\n                </NavLink>\r\n                <div className={s.people_item_name}>\r\n                    <span>{u.name}</span>\r\n                    {u.status && <span> | {u.status}</span>}\r\n\r\n                </div>\r\n                <div className={s.people_item_btn_div}>\r\n                    {u.followed\r\n                        ? <button\r\n                            className={props.isFollowing.some(id => id === u.id)\r\n                                ? s.people_item_btn_disable\r\n                                : s.people_item_btn} onClick={(e) =>\r\n                        {props.unFollow(u.id)}}>UnFollow</button>\r\n                        : <button\r\n                            className={props.isFollowing.some(id => id === u.id)\r\n                                ? s.people_item_btn_disable\r\n                                : s.people_item_btn} onClick={(e) =>\r\n                        {props.follow(u.id)}}>Follow</button>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <hr/>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PeopleItem;","import React from 'react';\r\n// @ts-ignore\r\nimport s from './PeoplesPage.module.css';\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\nimport PeopleItem from \"./PeopleItem/PeopleItem\";\r\nimport {FriendsCollectionType} from \"../../types/types\";\r\n\r\ntype PropsTypes = {\r\n    currentPage: number,\r\n    totalUserCount: number,\r\n    pageSize: number,\r\n    onPageChanged: (pageNumber: number) => void,\r\n    friendsCollection: Array<FriendsCollectionType>,\r\n    unFollow: (userId: number) => void,\r\n    follow: (userId: number) => void,\r\n    isFollowing: Array<number>\r\n}\r\n\r\nconst PeoplesPage: React.FC<PropsTypes> = (\r\n    {currentPage, totalUserCount,pageSize,\r\n        onPageChanged, friendsCollection, unFollow,\r\n        follow, isFollowing}) => {\r\n    return (\r\n        <section className={s.peoples_content + \" \" + s.content_block_size}>\r\n           {/* <Paginator currentPage={ currentPage } totalItemsCount={ totalUserCount }\r\n                       pageSize={ pageSize } onPageChanged={ onPageChanged }/>*/}\r\n            {friendsCollection.map(u =>\r\n                <PeopleItem key={ u.id } user={ u } unFollow={ unFollow }\r\n                            follow={ follow } isFollowing={ isFollowing } />\r\n                )\r\n            }\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default PeoplesPage;","import React from 'react';\r\nimport {getUsers, userFollow, userUnFollow} from '../../redux/peoples_reducer';\r\nimport {connect} from \"react-redux\";\r\n// @ts-ignore\r\nimport s from './PeoplesPage.module.css';\r\nimport {compose} from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport PeoplesPage from \"./PeoplesPage\";\r\nimport {FriendsCollectionType} from \"../../types/types\";\r\nimport {AppStateType} from \"../../redux/redux-store\";\r\n\r\ntype MapStatePropsType = {\r\n    friendsCollection: Array<FriendsCollectionType>,\r\n    pageSize: number,\r\n    totalUserCount: number,\r\n    currentPage: number,\r\n    isFetching: boolean,\r\n    isFollowing: Array<number>\r\n}\r\ntype MapDispatchPropsType = {\r\n    getUsers: (currentPage: number, pageSize: number) => void,\r\n    userFollow: (userId: number) => void,\r\n    userUnFollow: (userId: number) => void,\r\n\r\n}\r\ntype OwnPropsType ={}\r\n\r\n\r\ntype PropsTypes = MapStatePropsType & MapDispatchPropsType & OwnPropsType\r\n\r\nclass PeoplesPageContainer extends React.Component<PropsTypes> {\r\n\r\n\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n        let {pageSize} = this.props;\r\n        this.props.getUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    onFollow = (userId: number) => {\r\n        this.props.userFollow(userId);\r\n    }\r\n\r\n    onUnFollow = (userId: number) => {\r\n        this.props.userUnFollow(userId);\r\n    }\r\n\r\n    render = () => {\r\n        return <>\r\n            {this.props.isFetching\r\n                ? <div className={s.preloader}>\r\n                    <div className={s.ldsCircle}>\r\n                        <div></div>\r\n                    </div>\r\n                </div>\r\n                : <PeoplesPage totalUserCount={this.props.totalUserCount} pageSize={this.props.pageSize}\r\n                                  currentPage={this.props.currentPage} onPageChanged={this.onPageChanged}\r\n                                  friendsCollection={this.props.friendsCollection}\r\n                                  follow={this.onFollow}\r\n                                  unFollow={this.onUnFollow} isFollowing={this.props.isFollowing}/>\r\n            }\r\n        </>\r\n    };\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\r\n    return{\r\n        friendsCollection: state.friendsPage.friendsCollection,\r\n        pageSize: state.friendsPage.pageSize,\r\n        totalUserCount: state.friendsPage.totalUserCount,\r\n        currentPage: state.friendsPage.currentPage,\r\n        isFetching: state.friendsPage.isFetching,\r\n        isFollowing: state.friendsPage.isFollowing\r\n    }\r\n}\r\n\r\n\r\nexport default compose<React.ComponentType>(\r\n    //<TStateProps = {}, TDispatchProps = {}, TOwnProps = {}, State = DefaultState>\r\n    connect<MapStatePropsType, MapDispatchPropsType, OwnPropsType, AppStateType>(\r\n        mapStateToProps, {getUsers, userFollow, userUnFollow}),\r\n    withAuthRedirect\r\n)(PeoplesPageContainer);"],"sourceRoot":""}